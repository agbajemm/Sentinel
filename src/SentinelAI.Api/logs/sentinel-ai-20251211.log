2025-12-11 13:57:36.536 +01:00 [FTL] [] SENTINEL AI API terminated unexpectedly
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddRateLimiter' in the application startup code.
   at Microsoft.AspNetCore.Builder.RateLimiterApplicationBuilderExtensions.VerifyServicesAreRegistered(IApplicationBuilder app)
   at Microsoft.AspNetCore.Builder.RateLimiterApplicationBuilderExtensions.UseRateLimiter(IApplicationBuilder app)
   at Program.<Main>$(String[] args) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api\Program.cs:line 137
2025-12-11 14:34:19.408 +01:00 [FTL] [] SENTINEL AI API terminated unexpectedly
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddRateLimiter' in the application startup code.
   at Microsoft.AspNetCore.Builder.RateLimiterApplicationBuilderExtensions.VerifyServicesAreRegistered(IApplicationBuilder app)
   at Microsoft.AspNetCore.Builder.RateLimiterApplicationBuilderExtensions.UseRateLimiter(IApplicationBuilder app)
   at Program.<Main>$(String[] args) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api\Program.cs:line 137
2025-12-11 14:36:18.426 +01:00 [FTL] [] SENTINEL AI API terminated unexpectedly
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddRateLimiter' in the application startup code.
   at Microsoft.AspNetCore.Builder.RateLimiterApplicationBuilderExtensions.VerifyServicesAreRegistered(IApplicationBuilder app)
   at Microsoft.AspNetCore.Builder.RateLimiterApplicationBuilderExtensions.UseRateLimiter(IApplicationBuilder app)
   at Program.<Main>$(String[] args) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api\Program.cs:line 137
2025-12-11 14:40:11.373 +01:00 [INF] [] SENTINEL AI API started successfully
2025-12-11 14:40:11.433 +01:00 [INF] [] Seeding database...
2025-12-11 14:40:13.239 +01:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'Tenant.EnabledModules' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-12-11 14:40:14.970 +01:00 [ERR] [SentinelAI.Infrastructure.Data.SentinelDbContext] Error seeding database
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "sentinel_user"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at SentinelAI.Infrastructure.Data.DatabaseSeeder.SeedAsync(IServiceProvider serviceProvider) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Infrastructure\Data\DatabaseSeeder.cs:line 30
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "sentinel_user"
    File: auth.c
    Line: 320
    Routine: auth_failed
2025-12-11 14:40:15.105 +01:00 [WRN] [] Database seeding failed - this is expected if migrations haven't been run
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "sentinel_user"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at SentinelAI.Infrastructure.Data.DatabaseSeeder.SeedAsync(IServiceProvider serviceProvider) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Infrastructure\Data\DatabaseSeeder.cs:line 30
   at Program.<Main>$(String[] args) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api\Program.cs:line 190
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "sentinel_user"
    File: auth.c
    Line: 320
    Routine: auth_failed
2025-12-11 14:40:15.245 +01:00 [INF] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\MuhammedAgbaje\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 14:40:15.854 +01:00 [INF] [Microsoft.Hosting.Lifetime] Now listening on: https://localhost:50061
2025-12-11 14:40:15.871 +01:00 [INF] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:50062
2025-12-11 14:40:16.059 +01:00 [INF] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
2025-12-11 14:40:16.063 +01:00 [INF] [Microsoft.Hosting.Lifetime] Hosting environment: Development
2025-12-11 14:40:16.066 +01:00 [INF] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api
2025-12-11 14:40:16.440 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:50061/ - null null
2025-12-11 14:40:16.692 +01:00 [INF] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.
2025-12-11 14:40:16.838 +01:00 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'HTTP: GET /'
2025-12-11 14:40:16.867 +01:00 [INF] [Microsoft.AspNetCore.Http.Result.OkObjectResult] Setting HTTP status code 200.
2025-12-11 14:40:16.875 +01:00 [INF] [Microsoft.AspNetCore.Http.Result.OkObjectResult] Writing value of type '<>f__AnonymousType4`6' as Json.
2025-12-11 14:40:16.947 +01:00 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'HTTP: GET /'
2025-12-11 14:40:16.952 +01:00 [INF] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.
2025-12-11 14:40:16.961 +01:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET / responded 200 in 274.6274 ms
2025-12-11 14:40:16.971 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:50061/ - 200 null application/json; charset=utf-8 539.3288ms
2025-12-11 14:40:17.006 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:50061/favicon.ico - null null
2025-12-11 14:40:17.016 +01:00 [INF] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.
2025-12-11 14:40:17.020 +01:00 [INF] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.
2025-12-11 14:40:17.022 +01:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /favicon.ico responded 404 in 6.1710 ms
2025-12-11 14:40:17.028 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:50061/favicon.ico - 404 0 null 22.0829ms
2025-12-11 14:40:17.036 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:50061/favicon.ico, Response status code: 404
2025-12-11 14:41:00.677 +01:00 [INF] [] SENTINEL AI API started successfully
2025-12-11 14:41:00.725 +01:00 [INF] [] Seeding database...
2025-12-11 14:41:02.076 +01:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'Tenant.EnabledModules' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-12-11 14:41:02.707 +01:00 [ERR] [SentinelAI.Infrastructure.Data.SentinelDbContext] Error seeding database
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "sentinel_user"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at SentinelAI.Infrastructure.Data.DatabaseSeeder.SeedAsync(IServiceProvider serviceProvider) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Infrastructure\Data\DatabaseSeeder.cs:line 30
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "sentinel_user"
    File: auth.c
    Line: 320
    Routine: auth_failed
2025-12-11 14:41:02.827 +01:00 [WRN] [] Database seeding failed - this is expected if migrations haven't been run
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "sentinel_user"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at SentinelAI.Infrastructure.Data.DatabaseSeeder.SeedAsync(IServiceProvider serviceProvider) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Infrastructure\Data\DatabaseSeeder.cs:line 30
   at Program.<Main>$(String[] args) in C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api\Program.cs:line 190
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "sentinel_user"
    File: auth.c
    Line: 320
    Routine: auth_failed
2025-12-11 14:41:02.909 +01:00 [INF] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\MuhammedAgbaje\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 14:41:03.252 +01:00 [INF] [Microsoft.Hosting.Lifetime] Now listening on: https://localhost:50061
2025-12-11 14:41:03.257 +01:00 [INF] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:50062
2025-12-11 14:41:03.360 +01:00 [INF] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
2025-12-11 14:41:03.362 +01:00 [INF] [Microsoft.Hosting.Lifetime] Hosting environment: Development
2025-12-11 14:41:03.365 +01:00 [INF] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\MuhammedAgbaje\Downloads\SentinelAI\src\SentinelAI.Api
2025-12-11 14:41:03.785 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:50061/ - null null
2025-12-11 14:41:03.966 +01:00 [INF] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.
2025-12-11 14:41:04.053 +01:00 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'HTTP: GET /'
2025-12-11 14:41:04.069 +01:00 [INF] [Microsoft.AspNetCore.Http.Result.OkObjectResult] Setting HTTP status code 200.
2025-12-11 14:41:04.074 +01:00 [INF] [Microsoft.AspNetCore.Http.Result.OkObjectResult] Writing value of type '<>f__AnonymousType4`6' as Json.
2025-12-11 14:41:04.108 +01:00 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'HTTP: GET /'
2025-12-11 14:41:04.112 +01:00 [INF] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.
2025-12-11 14:41:04.122 +01:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET / responded 200 in 157.0586 ms
2025-12-11 14:41:04.135 +01:00 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:50061/ - 200 null application/json; charset=utf-8 357.1932ms
